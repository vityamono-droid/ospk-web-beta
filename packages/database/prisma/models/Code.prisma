enum CodeChallengeMethod {
  S256
  plain
}

model Code {
  code                String              @id
  redirectUri         String?             @db.VarChar(255)
  codeChallenge       String?             @db.VarChar(255)
  codeChallengeMethod CodeChallengeMethod @default(plain)
  scopes              Scope[]

  expiresAt DateTime
  createdAt DateTime  @default(now())
  updatedAt DateTime? @updatedAt

  clientId String  @db.Uuid
  client   Client  @relation(fields: [clientId], references: [id], onDelete: Cascade)
  userId   String? @db.Uuid
  user     User?   @relation(fields: [userId], references: [id])
}
